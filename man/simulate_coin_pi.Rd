% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/simulate_coin_pi.R
\name{simulate_coin_pi}
\alias{simulate_coin_pi}
\title{Estimate Pi by Stopping-Time Coin Flips}
\usage{
simulate_coin_pi(
  n_sims = 1000000L,
  chunk_size = 1000000L,
  seed = NULL,
  progress = interactive(),
  return_ratios = FALSE
)
}
\arguments{
\item{n_sims}{Number of independent trials to run.}

\item{chunk_size}{Number of trials to simulate per vectorized chunk.}

\item{seed}{Optional integer seed for reproducibility.}

\item{progress}{Logical; if \code{TRUE}, print chunk progress.}

\item{return_ratios}{Logical; if \code{TRUE}, include all simulated
\code{H_tau / tau} ratios in the output.}
}
\value{
A \code{coin_pi_estimate} object (list) with fields:
\code{pi_hat}, \code{mean_ratio}, \code{std_error}, \code{n_sims}, \code{chunk_size}, \code{n_chunks},
and optionally \code{ratios}.
}
\description{
Simulate the coin-flip process from Propp (2026) in chunks, using a
vectorized inner loop over active trajectories in each chunk.
}
\details{
For each trial, repeatedly flip a fair coin until heads first outnumber
tails. Record \code{H_tau / tau} for that trial. Across many trials,
\code{4 * mean(H_tau / tau)} estimates \code{pi}.
}
\examples{
fit <- simulate_coin_pi(n_sims = 500L, chunk_size = 100L, seed = 123)
fit

}
